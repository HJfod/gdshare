<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8"/>
        <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline'">
        <title>GDShare</title>

        <link rel="stylesheet" href="scripts/styles/main.css"/>
        <link rel="stylesheet" href="scripts/styles/titlebar.css"/>
        <link rel="stylesheet" href="scripts/styles/content.css"/>
        <link rel="stylesheet" href="scripts/styles/elements.css"/>

        <script defer src="scripts/frontend/gdshare-front.js"></script>
        <script defer src="scripts/frontend/main.js"></script>
        <script defer src="scripts/frontend/elements/checkbox.js"></script>
        <script defer src="scripts/frontend/elements/alert.js"></script>
        <script defer src="scripts/frontend/elements/select.js"></script>
        <script defer src="scripts/frontend/elements/tabs.js"></script>
        <script defer src="scripts/frontend/elements/char.js"></script>
        <script defer src="scripts/frontend/elements/rollover.js"></script>
        <script defer src="scripts/frontend/elements/filedrop.js"></script>
        <script defer src="scripts/frontend/elements/help.js"></script>
        <script defer src="scripts/frontend/finish.js"></script>
    </head>
    <body>

        <app-titlebar>
            <text class="app-title">GDShare <t-dark class="version-title">__VERSION</t-dark></text>

            <app-buffer></app-buffer>

            <button class="app-title-button" onclick="ipcSend({ action: 'app-mz' })">&#9472;</button>
            <button class="app-title-button" onclick="ipcSend({ action: 'app-fs' })">&#9744;</button>
            <button class="app-title-button close" onclick="window.close()">&#10005;</button>
        </app-titlebar>

        <app-main>
            
            <app-tabs>
                <tab-buffer></tab-buffer>
                <app-tab link="home" default>Home</app-tab>
                <app-tab link="backup">Backups</app-tab>
                <app-tab link="export">Export</app-tab>
                <app-tab link="import">Import</app-tab>
                <app-tab link="analyze">Analyze</app-tab>
                <app-tab link="settings">Settings</app-tab>
                <app-tab link="help" id="help-tab" style="display: none;" removeOnDeselect>Help</app-tab>
            </app-tabs>

            <app-content>

                <app-page link="home">
                    <home-screen>
                        <welcome-message>Logged in as __PLAYERNAME</welcome-message>
                        <w-small>UserID: __PLAYERID</w-small>

                        <br>
                        <roll-over>
                            <roll-text>View stats</roll-text>
                            <roll-content>
                                <user-stats></user-stats>
                            </roll-content>
                        </roll-over>
                    </home-screen>
                </app-page>

                <app-page link="backup">
                    <!--<button>&#128932;</button>-->

                    <select-menu menu="backup-menu" size=4 empty-text="Not implemented yet; Coming soon!"></select-menu>

                    <search-box menu="backup-menu"></search-box>
                </app-page>

                <app-page link="export">
                    <select-menu id="level-list" multiple menu="export-menu" size=5 empty-text="No levels found." hover='[
                        { "type": "button", "text": "View", "onclick": "GDShare.view(this.parentNode.innerHTML)" }
                    ]'></select-menu>

                    <search-box menu="export-menu"></search-box>

                    <button id="export" onclick="GDShare.export()">Export selected</button>

                    <button onclick="GDShare.selectExportPath()">Select path</button>

                    <help-button help="export"></help-button>

                    <p id="export-path">No export path selected</p>
                </app-page>

                <app-page link="import">

                    <imported-levels>
                        <drop-area text="Drop file(s) here or click to import!" multiple change="import"></drop-area>

                    </imported-levels>

                </app-page>

                <app-page link="analyze">
                    <text>Coming soon!</text>
                </app-page>

                <app-page link="settings">
                    <title-medium>Settings</title-medium>

                    <roll-over>
                        <roll-text>Display</roll-text>
                        <roll-content>
                            <p>App scale:</p>
                            <cool-slider max="2" min="0.5" val="1" inc=".25" onrelease="reScaleApp(this.value)" valtype="x"></cool-slider>
                        </roll-content>
                    </roll-over>

                    <roll-over>
                        <roll-text>Help</roll-text>
                        <roll-content>
                            <br>
                            <help-button text="Open help"></help-button>
                            
                            <br><br>

                            <text>If you need specific assistance or have encountered a bug, please DM <t-m>HJfod</t-m><t-s>#1795</t-s> on Discord.</text>

                            <br>
                        </roll-content>
                    </roll-over>
                    
                    <roll-over>
                        <roll-text>About</roll-text>
                        <roll-content>

                            <roll-over style="margin-left: calc( var(--size-pad) / 2 )">
                                <roll-text>Developers</roll-text>
                                <roll-content>
                                    <dev-t i="HJfod">HJfod</dev-t>
                                    <dev-t i="GDColon">GDColon</dev-t>
                                    <dev-t i="Mercury">Mercury</dev-t>
                                    <dev-t i="Simonoson">Simonoson</dev-t>

                                    <roll-over style="margin-left: calc( var(--size-pad) / 2 )">
                                        <roll-text>Special thanks</roll-text>
                                        <roll-content>
                                            <text><c-d></c-d> SMJS, Kyuuti</text>
                                        </roll-content>
                                    </roll-over>
                                </roll-content>
                            </roll-over>

                            <roll-over style="margin-left: calc( var(--size-pad) / 2 )">
                                <roll-text>Advanced settings</roll-text>
                                <roll-content>
                                    <check-box id="dev-toggle" var="devMode" ontoggle='ipcSend({ "action": "toggle-dev-mode", "mode": "__THISVAR" })'>Developer mode</check-box>
                                </roll-content>
                            </roll-over>

                            <hyper-link link="https://github.com/HJfod/gd-backup">Github page (original)</hyper-link>
                            <c-d></c-d>
                            <hyper-link link="https://github.com/HJfod/gdshare">Github page (new)</hyper-link>

                            <br><br>

                            <text id="version-text"><t-dark>Version: __VERSION</t-dark></text>

                            <br><br>

                            <hyper-link onclick='ipcSend({ action: "check-for-updates" })'>Check for updates</hyper-link>
                        </roll-content>
                    </roll-over>
                </app-page>

                <app-page link="help" id="help-page">

                    <roll-over help="export">
                        <roll-text>Exporting levels</roll-text>
                        <roll-content>
                            <text>Select the level(s) you want exported from the list, then select the path and then <t-s>Export Selected</t-s>.</text>
                        </roll-content>
                    </roll-over>

                    <roll-over help="import">
                        <roll-text>Importing levels</roll-text>
                        <roll-content>

                        </roll-content>
                    </roll-over>

                </app-page>

            </app-content>

        </app-main>

        <alert-area id="alert">
            <alert-box>
                <alert-close>&#10005;</alert-close>
                <alert-content></alert-content>
            </alert-box>
            <loading-circle></loading-circle>
            <loading-text></loading-text>
        </alert-area>

    </body>
</html>